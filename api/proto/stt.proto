syntax = "proto3";

package stt;

option go_package = "github.com/shashwatssp/deeprecall/api/proto/stt";

service STTService {
  rpc Transcribe(TranscribeRequest) returns (TranscribeResponse);
  rpc TranscribeStream(stream AudioChunk) returns (TranscribeResponse);
}

message AudioChunk {
  bytes data = 1;
  int32 sample_rate = 2;
  int32 channels = 3;
}

message TranscribeRequest {
  bytes audio_data = 1;
  string language = 2;
  int32 sample_rate = 3;
}

message TranscribeResponse {
  string text = 1;
  string language = 2;
  float confidence = 3;
  int64 duration_ms = 4;
}
